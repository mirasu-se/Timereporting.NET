(()=>{"use strict";var e={311:e=>{e.exports=jQuery}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,o),i.exports}(()=>{const e={config:JSON.parse('{"appBaseName":"Timereports.Web","appBaseUrl":"http://localhost:5001","appEnvironment":"DEVELOPMENT","appLogLevel":"Info","appVersion":"1.0.0","appMaxRequestSize":1048576,"apiBaseName":"Timereports.Api","apiBaseUrl":"http://localhost:5000/api/v1","apiVersion":"1.0.0"}'),loadConfig(e){this.config={...this.config,...e}},getAppBaseName(){return this.config.appBaseName},getAppBaseUrl(){return this.config.appBaseUrl},getAppEnvironment(){return this.config.appEnvironment},getAppLogLevel(){return this.config.appLogLevel},getAppVersion(){return this.config.appVersion},getAppMaxRequestSize(){return this.config.appMaxRequestSize},getApiBaseName(){return this.config.apiBaseName},getApiBaseUrl(){return this.config.apiBaseUrl},getApiEnvironment(){return this.config.apiEnvironment},getApiVersion(){return this.config.apiVersion},splitVersion:e=>e.split("."),getAppSyncVersion(){const{appBuildMajorVersion:e,appBuildMinorVersion:t,appBuildPatchVersion:o}=this.config;return`${e}.${t}.${o}`},getApiSyncVersion(){const{apiBuildMajorVersion:e,apiBuildMinorVersion:t,apiBuildPatchVersion:o}=this.config;return`${e}.${t}.${o}`},getAppBaseUrl(){return"DEVELOPMENT"===this.config.appEnvironment?"http://localhost:5001":"STAGING"===this.config.appEnvironment?"https://staging-domain.com":"PRODUCTION"===this.config.appEnvironment?"https://production-domain.com":void 0}},t=class{static getCurrentDateTime(){return(new Date).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3})}static getCurrentTime(){return(new Date).toLocaleString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3})}},r=e.getAppEnvironment(),n=e.getAppLogLevel(),i=t.getCurrentDateTime(),a=t.getCurrentTime(),s=new class{constructor(e){this.appEnvironment=r,this.appLogLevel=e,this.currentDateTime=i,this.currentTime=a}logTitle(e,t=this.appLogLevel,o=!0){if("DEVELOPMENT"===this.appEnvironment){const r=o?`[${this.currentDateTime}] `:"";console.groupCollapsed(`${this.currentDateTime} [${t}] ${r}${e}`)}}logMessage(e,t){if("DEVELOPMENT"===this.appEnvironment){const o=t?`${this.currentDateTime} -`:"";console.log(`${o} ${e}`)}else{const o=t?`${this.currentDateTime} -`:"";console.log(`${o} ${e}`)}}logException(e,t){if("DEVELOPMENT"===this.appEnvironment){const o=t?`${this.currentDateTime} -`:"";console.log(`${o} ${e}`)}}logError(e,t){if("DEVELOPMENT"===this.appEnvironment){const o=t?`${this.currentDateTime} -`:"";console.log(`${o} ${e}`)}}}(n);var c=o(311);function p(e,t){fetch(`http://localhost:5000/api/v1/timereport?from_date=${e}&to_date=${t}`).then((e=>e.json())).then((e=>{f(e)})).catch((e=>{console.error("Error fetching timereports:",e)}))}function l(e){fetch(`http://localhost:5000/api/v1/timereport?from_date=${e}`).then((e=>e.json())).then((e=>{f(e)})).catch((e=>{console.error("Error fetching timereports:",e)}))}function d(e){fetch(`http://localhost:5000/api/v1/timereport?to_date=${e}`).then((e=>e.json())).then((e=>{f(e)})).catch((e=>{console.error("Error fetching timereports:",e)}))}function h(e){fetch(`http://localhost:5000/api/v1/timereport?workplace=${e}`).then((e=>e.json())).then((e=>{f(e)})).catch((e=>{console.error("Error fetching timereports:",e)}))}function m(e,t){fetch(`http://localhost:5000/api/v1/timereport?workplace=${e}&from_date=${t}`).then((e=>e.json())).then((e=>{f(e)})).catch((e=>{console.error("Error fetching timereports:",e)}))}function g(e,t){fetch(`http://localhost:5000/api/v1/timereport?workplace=${e}&to_date=${t}`).then((e=>e.json())).then((e=>{f(e)})).catch((e=>{console.error("Error fetching timereports:",e)}))}function u(e,t,o){fetch(`http://localhost:5000/api/v1/timereport?workplace=${e}&from_date=${t}&to_date=${o}`).then((e=>e.json())).then((e=>{f(e)})).catch((e=>{console.error("Error fetching timereports:",e)}))}function f(e){console.log("Processing timereports:",e),e.sort(((e,t)=>e.workplaceId-t.workplaceId));const t=document.querySelector("#time-report-table tbody");t.innerHTML="",e.forEach((e=>{e.id;const o=`<tr>\n      <td>${e.date.split("T")[0].split("-").reverse().join("-")}</td>\n      <td>${e.name}</td>\n      <td>${e.hours.toFixed(2)}</td>\n      <td>\n        <button type="button" class="btn btn-light" data-bs-toggle="modal" data-bs-target="#timereportDetails_${e.id}" onclick="fetchTimereportByTimereportId(${e.id})">\n          <i class="btn btn-secondary bi bi-info-circle m-0"></i>\n        </button>\n      </td>\n    </tr>`;t.insertAdjacentHTML("beforeend",o)}));const o=document.querySelector("#modal-container");o.innerHTML="",e.forEach((e=>{const t=`\n    <div class="modal fade" id="timereportDetails_${e.id}" tabindex="-1" aria-labelledby="timereportModalLabel" aria-hidden="true">\n      <div class="modal-dialog modal-dialog-centered">\n        <div class="modal-content">\n          <div class="modal-header">\n            <h5 class="modal-title" id="timereportModalLabel">\n              Tidsrapportdetaljer\n            </h5>\n            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="StÃ¤ng"></button>\n          </div>\n          <div class="card">\n            <div class="card-body">\n              <p><strong>Id:</strong> ${e.id}</p>\n              <p><strong>Name:</strong> ${e.name}</p>\n              <p><strong>Time:</strong> ${e.createdTime}</p>\n              <p><strong>Info:</strong> ${e.info}</p>\n              <div class="text-center">\n                <img src="${e.imageUrl||"~/img/default/workplace/no_workplace_image.png"}" alt="Workplace Image" class="img-fluid">\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>`;o.insertAdjacentHTML("beforeend",t)}))}window.fetchTimereportByTimereportId=function(e){fetch(`http://localhost:5000/api/v1/timereport/${e}`).then((e=>e.json())).then((t=>{document.getElementById("reportModalLabel").innerText="Time Report Details",document.getElementById("name").innerText=`Date: ${t.name}`,document.getElementById("date").innerText=`Date: ${t.date}`,document.getElementById("workplace").innerText=`Workplace: ${t.workplace}`,document.getElementById("hours").innerText=`Hours Worked: ${t.hours}`,c(`#reportDetails_${e}`).modal("show")})).catch((e=>{console.error("Error fetching report data:",e)}))},window.fetchTimereportsBetweenDatesForAllWorkplaces=p,window.fetchTimereportsByStartDateForAllWorkplaces=l,window.fetchTimereportsByEndDateForAllWorkplaces=d,window.fetchTimereportsByWorkplace=h,window.fetchTimereportsByStartDate=m,window.fetchTimereportsByEndDate=g,window.fetchTimereportsBetweenDates=u,window.fetchTimeReports=function(e){e.preventDefault();var t=document.getElementById("workplace-filter").value,o=document.getElementById("from-date").value,r=document.getElementById("to-date").value;t&&o&&r?u(t,o,r):t&&o?m(t,o):t&&r?g(t,r):t?h(t):o&&r?p(o,r):o?l(o):r?d(r):fetch("http://localhost:5000/api/v1/timereport").then((e=>e.json())).then((e=>{f(e),s.logError("fetchAllTimereports:",e)})).catch((e=>{console.error("Error fetching timereports:",e),s.logError("Error fetching timereports:",e)}))}})()})();
//# sourceMappingURL=previewTimeReportModule.min.js.map