{"version":3,"file":"js/createWorkplaceModule/createWorkplaceModule.min.js","mappings":"kCAAAA,EAAOC,QAAUC,M,GCCbC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaL,QAGrB,IAAID,EAASG,EAAyBE,GAAY,CAGjDJ,QAAS,CAAC,GAOX,OAHAO,EAAoBH,GAAUL,EAAQA,EAAOC,QAASG,GAG/CJ,EAAOC,OACf,C,MCVE,QAZF,MAEIQ,6BACEC,SAASC,eAAe,SAASC,OACnC,CAGAH,oBAAoBI,GAClBH,SAASC,eAAe,iBAAiBG,IAAMC,IAAIC,gBAAgBH,EAAMI,OAAOC,MAAM,GACxF,G,aC+CJC,OAAOC,aAhDP,SAAsBP,GAClBQ,EAAAA,aAA6BR,EACjC,EA+CAM,OAAOG,oBAtDP,WACED,EAAAA,qBACF,EAqDAF,OAAOI,oBAxCP,WACEC,EAAE,0BAA0BC,QAAO,SAAUC,GAC3CA,EAAEC,iBACF,IAAIC,EAAOJ,EAAEK,MAEb,GADAD,EAAKE,WACAF,EAAKG,QAAV,CAGE,IAAIC,EAAW,IAAIC,SACnBD,EAASE,OAAO,OAAQV,EAAE,SAASW,OACnCH,EAASE,OAAO,OAAQV,EAAE,SAASW,OACnCH,EAASE,OAAO,YAAaV,EAAE,UAAU,GAAGN,MAAM,IAClDM,EAAEY,KAAK,CACLC,KAAM,OACNC,aAAa,EACbC,aAAa,EACbC,IAAK,yCACLC,KAAMT,EACNU,QAAS,WACPlB,EAAE,SAASW,IAAI,IACfX,EAAE,SAASW,IAAI,IACfX,EAAE,UAAUW,IAAI,IAChBX,EAAE,YAAYmB,KAAK,8CACnBC,YAAW,WACTzB,OAAO0B,SAASC,QAClB,GAAG,IACL,EACAC,MAAO,WACLvB,EAAE,UAAUmB,KAAK,+CACnB,GAEJ,CACF,GACF,EAQAxB,OAAO6B,UA9CP,SAAmBC,EAASC,GACxB1B,EAAE,IAAMyB,GAASE,SACjBP,YAAW,WAAYpB,EAAE,IAAMyB,GAASG,MAAM,OAAQ,GAAGF,EAC7D,C","sources":["webpack://webpack-mvc/external var \"jQuery\"","webpack://webpack-mvc/webpack/bootstrap","webpack://webpack-mvc/./source/js/infrastructure/filesystem/imageProcessing.js","webpack://webpack-mvc/./source/js/presentation/timereporting.web/views/workplace/createWorkplaceModule.js"],"sourcesContent":["module.exports = jQuery;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","class imageProcessing {\r\n    // Function to open the image file dialog\r\n    static openImageFileDialog() {\r\n      document.getElementById('image').click();\r\n    }\r\n    \r\n    // Function to preview the image\r\n    static previewImage(event) {\r\n      document.getElementById(\"image-preview\").src = URL.createObjectURL(event.target.files[0]);\r\n    }\r\n  }\r\n  \r\n  export default imageProcessing;\r\n  \r\n","import imageProcessing from \"../../../../infrastructure/filesystem/imageProcessing\";\r\n\r\n// Function to open the image file dialog\r\nfunction openImageFileDialog() {\r\n  imageProcessing.openImageFileDialog();\r\n}\r\n  \r\n// Function to preview the image\r\nfunction previewImage(event) {\r\n    imageProcessing.previewImage(event);\r\n}\r\n    \r\n// Function to show the failure modal\r\nfunction showModal(modalId, delay) {\r\n    $('#' + modalId).fadeIn();\r\n    setTimeout(function() {$('#' + modalId).modal('hide');}, delay);\r\n} \r\n\r\nfunction submitWorkplaceForm() {\r\n  $('#create-workplace-form').submit(function (e) {\r\n    e.preventDefault();\r\n    var form = $(this);\r\n    form.validate();\r\n    if (!form.valid()) {\r\n      return;\r\n    } else {\r\n      var formData = new FormData();\r\n      formData.append('name', $('#name').val());\r\n      formData.append('info', $('#info').val());\r\n      formData.append('imageFile', $('#image')[0].files[0]);\r\n      $.ajax({\r\n        type: 'POST',\r\n        contentType: false,\r\n        processData: false,\r\n        url: 'http://localhost:5000/api/v1/workplace',\r\n        data: formData,\r\n        success: function () {\r\n          $('#name').val('');\r\n          $('#info').val('');\r\n          $('#image').val('');\r\n          $('.success').html('Arbetsplatsen har skickats framgångsrikt!!');\r\n          setTimeout(function () {\r\n            window.location.reload();\r\n          }, 5000);\r\n        },\r\n        error: function () {\r\n          $('.error').html('Något gick fel. Vänligen försök igen senare.');\r\n        }\r\n      });\r\n    }\r\n  });\r\n};\r\n\r\n  \r\n\r\n// Expose functions to the global scope\r\nwindow.previewImage = previewImage;\r\nwindow.openImageFileDialog = openImageFileDialog;\r\nwindow.submitWorkplaceForm = submitWorkplaceForm;\r\nwindow.showModal = showModal; "],"names":["module","exports","jQuery","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","static","document","getElementById","click","event","src","URL","createObjectURL","target","files","window","previewImage","imageProcessing","openImageFileDialog","submitWorkplaceForm","$","submit","e","preventDefault","form","this","validate","valid","formData","FormData","append","val","ajax","type","contentType","processData","url","data","success","html","setTimeout","location","reload","error","showModal","modalId","delay","fadeIn","modal"],"sourceRoot":""}